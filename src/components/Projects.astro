---
import CodeIcon from "@/components/icons/Code.astro";
import SocialPill from "@/components/SocialPill.astro";
import GithubIcon from "@/components/icons/Github.astro";
import TailwindIcon from "@/components/icons/Tailwind.astro";
import DjangoIcon from "@/components/icons/Django.astro";
import DockerIcon from "@/components/icons/Docker.astro";
import MysqlIcon from "@/components/icons/Mysql.astro";
import NodejsIcon from "@/components/icons/Nodejs.astro";
import AstroIcon from "@/components/icons/AstroIcon.astro";
import RustIcon from "@/components/icons/Rust.astro";
import RedisIcon from "@/components/icons/Redis.astro";

const TAGS = {
    TAILWIND: {
        name: "Tailwind CSS",
        class: "bg-[#003159] text-white",
        icon: TailwindIcon,
    },
    DJANGO: {
        name: "Django",
        class: "bg-[#124332] text-white",
        icon: DjangoIcon,
    },
    DOCKER: {
        name: "Docker",
        class: "bg-[#05469d] text-white",
        icon: DockerIcon,
    },
    MYSQL: {
        name: "MySQL",
        class: "bg-[#a0c5df] text-slate-800",
        icon: MysqlIcon,
    },
    NODEJS: {
        name: "Node.js",
        class: "bg-[#026e00] text-white",
        icon: NodejsIcon,
    },
    ASTRO: {
        name: "Astro",
        class: "bg-[#703f72] text-white",
        icon: AstroIcon,
    },
    RUST: {
        name: "Rust",
        class: "bg-[#000000] text-white",
        icon: RustIcon,
    },
    REDIS: {
        name: "Redis",
        class: "bg-[#c62a20] text-white",
        icon: RedisIcon,
    },
};

const PERSONAL_PROJECTS = [
    {
        title: "My own Redis implementation in Rust",
        description: "I build a toy Redis clone that's capable of handling basic commands like PING, SET and GET. Along the way I have learned about event loops, the Redis protocol, tokio and async Rust, and more",
        github:"https://github.com/DaniFdz/codecrafters-redis-rust",
        image: "/images/072be974-7d3a-4936-8f7d-8bcc2dad549b.webp",
        tags: [TAGS.RUST, TAGS.REDIS],

    },
    {
        title: "Goon Website",
        description:
            "Website for designer Laurana Corrales and her brand Goon. It is a website made with Astro and Tailwind CSS",
        link: "https://goon-web.es/",
        github: "https://github.com/DaniFdz/goon",
        image: "/images/17125dd9-9ca1-4048-bd1f-c39694b01817.webp",
        tags: [TAGS.ASTRO, TAGS.TAILWIND],
    },
    {
        title: "Django Template",
        description:
            "Web app template with Django and Docker. It is a template that I use to start new projects with Django following SOLID principles, it has an advanced configuration and is ready to deploy with Docker Compose, Nginx and Certbot",
        github: "https://github.com/DaniFdz/django_template",
        tags: [TAGS.DJANGO, TAGS.DOCKER, TAGS.MYSQL],
    },
    {
        title: "Discord GPT",
        description:
            "Discord bot to help users have more natural and efficient conversations on the Discord platform with ChatGPT",
        github: "https://github.com/DaniFdz/discord_gpt",
        tags: [TAGS.NODEJS],
    },
];
---

<h3
    class="text-2xl font-semibold flex gap-x-3 items-center text-black/80 dark:text-white/90 text-gray-800 dark:text-gray-300"
>
    <CodeIcon class="size-7" />
    Personal Projects
</h3>

{
    PERSONAL_PROJECTS.map(
        ({ image, title, description, tags, link, github }) => (
            <article>
                <h4 class="mt-2 text-lg font-semibold text-yellow-400 dark:text-yellow-500">
                    {title}
                </h4>
                <p class="text-lg mb-4 text-pretty">{description}</p>
                <ul class="flex flex-wrap gap-2 flex-row mb-2">
                    {tags.map((tag) => (
                        <li>
                            <span
                                class={`flex gap-x-2 rounded-full text-xs ${tag.class} py-1 px-2 `}
                            >
                                <tag.icon class="size-4" />
                                {tag.name}
                            </span>
                        </li>
                    ))}
                </ul>
                {image && (
                    <img
                        loading="lazy"
                        class="rounded shadow-2xl shadow-white/10 aspect-video"
                        src={image}
                        alt={`Captura de pantalla del proyecto ${image}`}
                    />
                )}
                <footer class="flex gap-x-4 items-end justify-start my-4">
                    {github && (
                        <SocialPill href={github}>
                            <GithubIcon class="size-6" />
                            Source Code
                        </SocialPill>
                    )}
                    {link && (
                        <SocialPill href={link}>
                            <svg
                                width="24"
                                height="24"
                                viewBox="0 0 24 24"
                                stroke-width="1.5"
                                stroke="currentColor"
                                fill="none"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                            >
                                <>
                                    <path
                                        stroke="none"
                                        d="M0 0h24v24H0z"
                                        fill="none"
                                    />
                                    <path d="M19.5 7a9 9 0 0 0 -7.5 -4a8.991 8.991 0 0 0 -7.484 4" />
                                    <path d="M11.5 3a16.989 16.989 0 0 0 -1.826 4" />
                                    <path d="M12.5 3a16.989 16.989 0 0 1 1.828 4" />
                                    <path d="M19.5 17a9 9 0 0 1 -7.5 4a8.991 8.991 0 0 1 -7.484 -4" />
                                    <path d="M11.5 21a16.989 16.989 0 0 1 -1.826 -4" />
                                    <path d="M12.5 21a16.989 16.989 0 0 0 1.828 -4" />
                                    <path d="M2 10l1 4l1.5 -4l1.5 4l1 -4" />
                                    <path d="M17 10l1 4l1.5 -4l1.5 4l1 -4" />
                                    <path d="M9.5 10l1 4l1.5 -4l1.5 4l1 -4" />
                                </>
                            </svg>
                            Visit website
                        </SocialPill>
                    )}
                </footer>
            </article>
        ),
    )
}
